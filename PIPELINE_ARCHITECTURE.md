# ğŸ—ï¸ Multimodal RAG Pipeline Architecture

ì™„ì „í•œ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ë„ì‹í™”

---

## ğŸ“Š ì „ì²´ ì‹œìŠ¤í…œ ê°œìš”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         MULTIMODAL RAG SYSTEM                                â”‚
â”‚                    (Text + Image Vector Search System)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                     â”‚                     â”‚
           [INPUT LAYER]        [PROCESSING]          [SEARCH LAYER]
```

---

## ğŸ”„ Phase 1: Data Preparation & Ingestion

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         PHASE 1: DATA PREPARATION                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ Input Data Sources
â”‚
â”œâ”€â”€â”€ ğŸ“° News Data (JSON)                    ğŸ–¼ï¸ Image Data (Files)
â”‚    â””â”€â”€ 01_disaster_Fire_3years.json       â””â”€â”€ image_data/fire/*.jpg
â”‚        â”œâ”€â”€ doc_id: "fire_news_001"             â”œâ”€â”€ fire1.jpg
â”‚        â”œâ”€â”€ title: "ì„œìš¸ í™”ì¬..."              â”œâ”€â”€ fire2.jpg
â”‚        â”œâ”€â”€ text: "ì˜¤ëŠ˜ ì˜¤ì „..."               â””â”€â”€ fire3.jpg
â”‚        â”œâ”€â”€ date: "20240115"
â”‚        â””â”€â”€ category: "disaster"
â”‚
â”‚
â–¼ STEP 1: Load & Parse
â”‚
â”œâ”€â”€â”€ demo_multimodal_fire.py
â”‚    â”œâ”€â”€ load_fire_news()
â”‚    â”‚   â””â”€â”€ Parse JSON structure
â”‚    â”‚       â”œâ”€â”€ item.documentList â†’ standardize
â”‚    â”‚       â”œâ”€â”€ search_result â†’ standardize
â”‚    â”‚       â””â”€â”€ Output: List[Dict]
â”‚    â”‚
â”‚    â””â”€â”€ assign_images_randomly()
â”‚        â””â”€â”€ Match images to news (30% ratio)
â”‚            â””â”€â”€ Output: {doc_id: image_path}
â”‚
â”‚
â–¼ STEP 2: Random Image Assignment
â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Image Assignment Algorithm              â”‚
â”‚                                          â”‚
â”‚  For each news in sample(30%):          â”‚
â”‚    random_image = choice(fire*.jpg)     â”‚
â”‚    mappings[news.doc_id] = image        â”‚
â”‚                                          â”‚
â”‚  Result:                                 â”‚
â”‚    fire_news_001 â†’ fire1.jpg            â”‚
â”‚    fire_news_015 â†’ fire2.jpg            â”‚
â”‚    fire_news_032 â†’ fire1.jpg (repeat OK)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â”‚
â–¼ Output Files
â”‚
â”œâ”€â”€â”€ prepared_fire_news.json        (100 news articles)
â””â”€â”€â”€ fire_image_mappings.json       (30 image assignments)
```

---

## ğŸ”¬ Phase 2: Embedding Generation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PHASE 2: MULTIMODAL EMBEDDING                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Input: prepared_fire_news.json + fire_image_mappings.json
â”‚
â”‚
â–¼ PARALLEL PROCESSING
â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚                             â”‚
â”‚  TEXT BRANCH                â”‚  IMAGE BRANCH               â”‚
â”‚  (Every document)           â”‚  (30% with images)          â”‚
â”‚                             â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Text Content       â”‚    â”‚  â”‚ Image File         â”‚    â”‚
â”‚  â”‚ "ì˜¤ëŠ˜ ì˜¤ì „ ì„œìš¸..." â”‚    â”‚  â”‚ fire1.jpg          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚           â”‚                 â”‚           â”‚                 â”‚
â”‚           â–¼                 â”‚           â–¼                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ HuggingFace Model  â”‚    â”‚  â”‚ CLIP Model         â”‚    â”‚
â”‚  â”‚                    â”‚    â”‚  â”‚                    â”‚    â”‚
â”‚  â”‚ ko-sroberta-       â”‚    â”‚  â”‚ openai/clip-vit-   â”‚    â”‚
â”‚  â”‚ multitask          â”‚    â”‚  â”‚ base-patch32       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚           â”‚                 â”‚           â”‚                 â”‚
â”‚           â–¼                 â”‚           â–¼                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Text Embedding     â”‚    â”‚  â”‚ Image Embedding    â”‚    â”‚
â”‚  â”‚ [768 dimensions]   â”‚    â”‚  â”‚ [512 dimensions]   â”‚    â”‚
â”‚  â”‚ [0.12, -0.34, ...] â”‚    â”‚  â”‚ [0.45, 0.78, ...]  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚           â”‚                 â”‚           â”‚                 â”‚
â”‚           â”‚                 â”‚           â”‚ (or zero       â”‚
â”‚           â”‚                 â”‚           â”‚  padding if    â”‚
â”‚           â”‚                 â”‚           â”‚  no image)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                             â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  VECTOR CONCATENATION  â”‚
                â”‚                        â”‚
                â”‚  Combined Vector:      â”‚
                â”‚  [text_vec | image_vec]â”‚
                â”‚  [768 dims | 512 dims] â”‚
                â”‚                        â”‚
                â”‚  Total: 1280 dims      â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Document with Metadata         â”‚
          â”‚                                 â”‚
          â”‚  {                              â”‚
          â”‚    "vector": [1280 floats],     â”‚
          â”‚    "doc_id": "fire_news_001",   â”‚
          â”‚    "title": "ì„œìš¸ í™”ì¬...",     â”‚
          â”‚    "content": "ì˜¤ëŠ˜ ì˜¤ì „...",   â”‚
          â”‚    "date": "20240115",          â”‚
          â”‚    "category": "disaster",      â”‚
          â”‚    "topic": "fire",             â”‚
          â”‚    "has_image": true,           â”‚
          â”‚    "image_path": "fire1.jpg"    â”‚
          â”‚  }                              â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¾ Phase 3: Milvus Storage

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PHASE 3: MILVUS STORAGE                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

multimodal_rag_v2.py --mode create
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          MilvusClient                                    â”‚
â”‚                       (High-Level API)                                   â”‚
â”‚                                                                          â”‚
â”‚  client = MilvusClient("multimodal_demo.db")                           â”‚
â”‚                                                                          â”‚
â”‚  client.create_collection(                                              â”‚
â”‚      collection_name = "fire_multimodal_demo"                          â”‚
â”‚      dimension = 1280,  # text(768) + image(512)                       â”‚
â”‚      metric_type = "COSINE",                                            â”‚
â”‚      auto_id = True,                                                    â”‚
â”‚      enable_dynamic_field = True                                        â”‚
â”‚  )                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼ Collection Schema
â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Collection: fire_multimodal_demo                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Field Name      â”‚ Type           â”‚ Dimension â”‚ Description     â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ id              â”‚ VARCHAR        â”‚ -         â”‚ Primary Key     â”‚   â”‚
â”‚  â”‚ vector          â”‚ FLOAT_VECTOR   â”‚ 1280      â”‚ Combined Vec    â”‚   â”‚
â”‚  â”‚ doc_id          â”‚ VARCHAR        â”‚ -         â”‚ Document ID     â”‚   â”‚
â”‚  â”‚ title           â”‚ VARCHAR        â”‚ -         â”‚ News Title      â”‚   â”‚
â”‚  â”‚ content         â”‚ VARCHAR        â”‚ -         â”‚ News Content    â”‚   â”‚
â”‚  â”‚ date            â”‚ VARCHAR        â”‚ -         â”‚ Publish Date    â”‚   â”‚
â”‚  â”‚ category        â”‚ VARCHAR        â”‚ -         â”‚ Category        â”‚   â”‚
â”‚  â”‚ topic           â”‚ VARCHAR        â”‚ -         â”‚ Topic           â”‚   â”‚
â”‚  â”‚ has_image       â”‚ BOOL           â”‚ -         â”‚ Image Flag      â”‚   â”‚
â”‚  â”‚ image_path      â”‚ VARCHAR        â”‚ -         â”‚ Image Path      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â”‚  Index: IVF_FLAT (COSINE)                                               â”‚
â”‚  Storage: multimodal_demo.db (Milvus Lite)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼ Batch Insert
â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Insert Process                      â”‚
â”‚                                      â”‚
â”‚  For batch in chunks(1000):         â”‚
â”‚    client.insert(                    â”‚
â”‚      collection_name,                â”‚
â”‚      data = [                        â”‚
â”‚        {vector: [...], ...},         â”‚
â”‚        {vector: [...], ...},         â”‚
â”‚        ...                           â”‚
â”‚      ]                               â”‚
â”‚    )                                 â”‚
â”‚                                      â”‚
â”‚  Result: 100 documents inserted     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Phase 4: Search Operations

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       PHASE 4: MULTIMODAL SEARCH                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          3 SEARCH MODES                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

MODE 1: TEXT SEARCH
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

User Query: "í™”ì¬ ì‚¬ê±´"
â”‚
â–¼ Encode Text
â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ko-sroberta-multitask      â”‚
â”‚ "í™”ì¬ ì‚¬ê±´" â†’ [768 floats] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼ Prepare Query Vector
â”‚
Query Vector = [text_vec] + [0, 0, ..., 0]  â† 512 zeros for image part
               â””â”€ 768 â”€â”˜   â””â”€â”€â”€â”€ 512 â”€â”€â”€â”€â”˜
               Total: 1280 dimensions
â”‚
â–¼ Search in Milvus
â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ client.search(                             â”‚
â”‚   collection_name = "fire_multimodal_demo" â”‚
â”‚   data = [query_vector],                   â”‚
â”‚   limit = 5,                               â”‚
â”‚   output_fields = [...]                    â”‚
â”‚ )                                          â”‚
â”‚                                            â”‚
â”‚ Algorithm: COSINE similarity               â”‚
â”‚ Index: IVF_FLAT                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼ Results (Top 5)
â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ì„œìš¸ ê°•ë‚¨êµ¬ ê±´ë¬¼ í™”ì¬ (0.89 similarity) â”‚
â”‚    ğŸ–¼ï¸ fire1.jpg                            â”‚
â”‚                                             â”‚
â”‚ 2. ëŒ€í˜• í™”ì¬ ì§„ì•• ì‘ì—… (0.85)              â”‚
â”‚    (no image)                               â”‚
â”‚                                             â”‚
â”‚ 3. í™”ì¬ í˜„ì¥ ëª©ê²©ë‹´ (0.82)                 â”‚
â”‚    ğŸ–¼ï¸ fire2.jpg                            â”‚
â”‚                                             â”‚
â”‚ 4. ì†Œë°©ê´€ í™”ì¬ ì§„ì•• (0.79)                 â”‚
â”‚    ğŸ–¼ï¸ fire1.jpg                            â”‚
â”‚                                             â”‚
â”‚ 5. í™”ì¬ í”¼í•´ ë³µêµ¬ (0.76)                   â”‚
â”‚    (no image)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


MODE 2: IMAGE SEARCH
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

User Query: fire1.jpg (image file)
â”‚
â–¼ Load & Encode Image
â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PIL.Image.open()           â”‚
â”‚ â””â†’ RGB Image               â”‚
â”‚                            â”‚
â”‚ CLIP Model                 â”‚
â”‚ fire1.jpg â†’ [512 floats]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼ Prepare Query Vector
â”‚
Query Vector = [0, 0, ..., 0] + [image_vec]  â† 768 zeros for text part
               â””â”€â”€â”€â”€ 768 â”€â”€â”€â”€â”˜   â””â”€ 512 â”€â”˜
               Total: 1280 dimensions
â”‚
â–¼ Search in Milvus (similar to text search)
â”‚
â–¼ Results (Top 5)
â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Documents with similar fire images:         â”‚
â”‚                                             â”‚
â”‚ 1. ê±´ë¬¼ í™”ì¬ í˜„ì¥ (0.92 similarity)        â”‚
â”‚    ğŸ–¼ï¸ fire1.jpg â† Same image!              â”‚
â”‚                                             â”‚
â”‚ 2. ëŒ€í˜• í™”ì¬ ë°œìƒ (0.78)                   â”‚
â”‚    ğŸ–¼ï¸ fire2.jpg â† Similar image            â”‚
â”‚                                             â”‚
â”‚ 3. ì•„íŒŒíŠ¸ í™”ì¬ (0.71)                      â”‚
â”‚                    â”‚
â”‚    ...                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


MODE 3: HYBRID SEARCH (Text + Image)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

User Query: "ëŒ€í˜• í™”ì¬" (text) + fire2.jpg (image)
â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        â”‚                         â”‚
â–¼ Text Encoding          â–¼ Image Encoding         â”‚
â”‚                        â”‚                         â”‚
"ëŒ€í˜• í™”ì¬"              fire2.jpg                â”‚
â””â†’ [768 floats]          â””â†’ [512 floats]          â”‚
â”‚                        â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼ Apply Weights
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Weight Configuration:                         â”‚
â”‚  - Text weight: 0.6  (60%)                    â”‚
â”‚  - Image weight: 0.4 (40%)                    â”‚
â”‚                                                â”‚
â”‚  text_vec_weighted = text_vec * 0.6           â”‚
â”‚  image_vec_weighted = image_vec * 0.4         â”‚
â”‚                                                â”‚
â”‚  Query Vector = [text_vec_weighted] +         â”‚
â”‚                 [image_vec_weighted]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼ Search in Milvus
                         â”‚
                         â–¼ Results (Top 5)
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Best matches considering BOTH text and image:   â”‚
â”‚                                                  â”‚
â”‚ 1. ëŒ€í˜• ê±´ë¬¼ í™”ì¬ ë°œìƒ (0.91)                   â”‚
â”‚    ğŸ–¼ï¸ fire2.jpg                                 â”‚
â”‚    â† High match on both text AND image!        â”‚
â”‚                                                  â”‚
â”‚ 2. í™”ì¬ í˜„ì¥ ê¸´ê¸‰ ì§„ì•• (0.84)                   â”‚
â”‚    ğŸ–¼ï¸ fire1.jpg                                 â”‚
â”‚    â† Good text match, decent image match       â”‚
â”‚                                                  â”‚
â”‚ 3. ëŒ€ê·œëª¨ í™”ì¬ ì‚¬ê³  (0.79)                      â”‚
â”‚    (no image)                                    â”‚
â”‚    â† Good text match only                       â”‚
â”‚    ...                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Complete End-to-End Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     COMPLETE PIPELINE FLOW                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

USER ACTION                    SYSTEM PROCESS                    OUTPUT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. bash demo_fire_multimodal.sh
   â”‚
   â”œâ”€â”€> Load news_data/*.json
   â”‚    â””â”€â”€> Parse JSON structure
   â”‚         â””â”€â”€> Extract 100 articles â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> List[Dict]
   â”‚
   â”œâ”€â”€> Load image_data/fire/*.jpg
   â”‚    â””â”€â”€> Find 3 images
   â”‚         â””â”€â”€> Random assignment (30%) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> Dict[str, str]
   â”‚              â””â”€â”€> Save mappings â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> *.json files
   â”‚
   â”œâ”€â”€> Create Milvus collection
   â”‚    â””â”€â”€> MilvusClient.create_collection()
   â”‚         â””â”€â”€> Schema: 1280-dim vector â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> Collection ready
   â”‚
   â”œâ”€â”€> For each document:
   â”‚    â”œâ”€â”€> Encode text with ko-sroberta â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> [768 floats]
   â”‚    â”œâ”€â”€> Encode image with CLIP (if exists) â”€â”€â”€â”€â”€â”€â”€> [512 floats]
   â”‚    â””â”€â”€> Concat vectors â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> [1280 floats]
   â”‚         â””â”€â”€> Insert to Milvus â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> Stored
   â”‚
   â””â”€â”€> Search demos:
        â”‚
        â”œâ”€â”€> Text search "í™”ì¬ ì‚¬ê±´"
        â”‚    â””â”€â”€> Encode query â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> [768 + 512 zeros]
        â”‚         â””â”€â”€> Milvus search â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> Top 5 results
        â”‚              â””â”€â”€> Display â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> User sees results
        â”‚
        â”œâ”€â”€> Image search fire1.jpg
        â”‚    â””â”€â”€> Encode image â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> [768 zeros + 512]
        â”‚         â””â”€â”€> Milvus search â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> Top 5 results
        â”‚              â””â”€â”€> Display â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> User sees results
        â”‚
        â””â”€â”€> Hybrid search "í™”ì¬" + fire2.jpg
             â”œâ”€â”€> Encode text â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> [768] * 0.6
             â”œâ”€â”€> Encode image â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> [512] * 0.4
             â””â”€â”€> Combine â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> [1280 floats]
                  â””â”€â”€> Milvus search â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> Top 5 results
                       â””â”€â”€> Display â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> User sees results
```

---

## ğŸ“¦ Component Stack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           TECHNOLOGY STACK                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Layer 7: User Interface
â”œâ”€â”€â”€ Shell Scripts (bash)
â”‚    â”œâ”€â”€ demo_fire_multimodal.sh
â”‚    â””â”€â”€ quick_demo.sh
â”‚
Layer 6: Application Logic
â”œâ”€â”€â”€ Python Scripts
â”‚    â”œâ”€â”€ multimodal_rag_v2.py (main)
â”‚    â””â”€â”€ demo_multimodal_fire.py (prep)
â”‚
Layer 5: ML Models
â”œâ”€â”€â”€ Text Embedding
â”‚    â””â”€â”€ HuggingFace: jhgan/ko-sroberta-multitask (768-dim)
â”‚
â””â”€â”€â”€ Image Embedding
     â””â”€â”€ OpenAI CLIP: clip-vit-base-patch32 (512-dim)
â”‚
Layer 4: Vector Database
â”œâ”€â”€â”€ Milvus Lite
â”‚    â”œâ”€â”€ Storage: SQLite-based (.db file)
â”‚    â”œâ”€â”€ Index: IVF_FLAT
â”‚    â””â”€â”€ Metric: COSINE similarity
â”‚
Layer 3: API Layer
â”œâ”€â”€â”€ pymilvus.MilvusClient (High-level API)
â”‚    â”œâ”€â”€ create_collection()
â”‚    â”œâ”€â”€ insert()
â”‚    â””â”€â”€ search()
â”‚
Layer 2: Data Processing
â”œâ”€â”€â”€ LangChain (embeddings wrapper)
â”œâ”€â”€â”€ PIL (image loading)
â””â”€â”€â”€ Transformers (CLIP model)
â”‚
Layer 1: System
â””â”€â”€â”€ Python 3.11+
     â”œâ”€â”€ PyTorch (GPU/CPU)
     â””â”€â”€ NumPy (array operations)
```

---

## ğŸ¯ Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DATA FLOW SUMMARY                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RAW DATA                    PROCESSED                      STORED
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

News JSON          â†’    Parse & Clean        â†’    Document Object
  â”œâ”€ title              â”œâ”€ Extract fields          â”œâ”€ doc_id
  â”œâ”€ content            â”œâ”€ Validate                â”œâ”€ title
  â”œâ”€ date               â””â”€ Standardize             â”œâ”€ content
  â””â”€ ...                                           â””â”€ metadata

Image Files        â†’    Load & Process       â†’    Image Object
  â”œâ”€ fire1.jpg          â”œâ”€ PIL.Image.open          â”œâ”€ RGB array
  â”œâ”€ fire2.jpg          â”œâ”€ Resize/normalize        â””â”€ ready for CLIP
  â””â”€ fire3.jpg          â””â”€ Validate

Random Mapping     â†’    Assignment           â†’    Mapping Dict
  â””â”€ Algorithm          â””â”€ 30% ratio              â””â”€ {doc_id: img_path}

EMBEDDING                  COMBINATION                  VECTOR DB
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Text â†’ [768]       â†’    Concatenate          â†’    Milvus Lite
                   +    [768 | 512]               â”œâ”€ Collection
Image â†’ [512]           = 1280-dim vector         â”œâ”€ Index
                                                  â””â”€ Query engine

QUERY                      SEARCH                      RESULTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

User Input         â†’    Encode Query         â†’    Top-K Results
  â”œâ”€ Text              â”œâ”€ Same models             â”œâ”€ Ranked by score
  â”œâ”€ Image             â”œâ”€ Same process            â”œâ”€ With metadata
  â””â”€ Both              â””â”€ Weight combination      â””â”€ Display to user
```

---

## ğŸ”¢ Performance Metrics

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        SYSTEM CHARACTERISTICS                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Vector Dimensions:
â”œâ”€â”€â”€ Text:          768 (ko-sroberta-multitask)
â”œâ”€â”€â”€ Image:         512 (CLIP ViT-B/32)
â””â”€â”€â”€ Combined:      1280 (concat)

Storage:
â”œâ”€â”€â”€ Database Type: SQLite-based (Milvus Lite)
â”œâ”€â”€â”€ Index Type:    IVF_FLAT
â”œâ”€â”€â”€ Metric:        COSINE similarity
â””â”€â”€â”€ File Size:     ~50MB per 1000 documents (approx)

Processing Speed (approximate):
â”œâ”€â”€â”€ Text Embedding:   ~100 docs/sec (CPU)  |  ~500 docs/sec (GPU)
â”œâ”€â”€â”€ Image Embedding:  ~50 images/sec (CPU) |  ~200 images/sec (GPU)
â””â”€â”€â”€ Search Latency:   <100ms (1K docs)     |  <500ms (100K docs)

Memory Usage:
â”œâ”€â”€â”€ Model Loading:    ~2GB (both models)
â”œâ”€â”€â”€ Runtime:          ~500MB (processing)
â””â”€â”€â”€ Database:         Disk-based (minimal RAM)
```

---

## âœ… Key Features Summary

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           SYSTEM CAPABILITIES                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… Multimodal Support
   â””â”€ Text + Image in single unified system

âœ… 3 Search Modes
   â”œâ”€ Pure Text Search
   â”œâ”€ Pure Image Search
   â””â”€ Hybrid (weighted combination)

âœ… Flexible Configuration
   â”œâ”€ Adjustable image assignment ratio
   â”œâ”€ Customizable search weights
   â””â”€ Scalable to large datasets

âœ… No Docker Required
   â””â”€ Milvus Lite (embedded database)

âœ… Production Ready
   â”œâ”€ Official MilvusClient API
   â”œâ”€ Proper error handling
   â””â”€ Batch processing support

âœ… Full Automation
   â”œâ”€ One-command demo
   â”œâ”€ Automatic image assignment
   â””â”€ End-to-end pipeline
```

